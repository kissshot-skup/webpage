---
title: 【情報処理】QoS制御について学んだこと
---
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2844921131740253"
     crossorigin="anonymous"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-H1234VX5NE"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-H1234VX5NE');
</script>



```
この記事にはこんなことが書かれています。
- QoSとは
```

----
QoS制御について学んだこと

通信に関する業務に携わるようになって、QoSという言葉について知りました。
概念と、使い方について共有したいと思います。

■QoSとは
QoSは、「Quality of Service」の略で、o（オー）は小文字。
直訳するとサービスの品質となります。
通信技術においては情報を正確にやりとりできる仕組みと捉えればよいと思う。
例えば、AさんとBさんが電話していた時にはっきりと途切れなく会話が聞こえるだとか、
火災時に遅延なく報知器が作動できることだとかがそれに該当します。

あらゆる通信機器が存在するこの時代、
多種多様な機器が通信を求めていて、空間や通信線に流れる通信量は増大している。
その環境化で、このQoSが保たれるようにする仕組みが、QoS制御です。

■QoSを低下させる原因
QoSを低下させる原因は下記の二つ
‐通信量が増えたときに、通信ルートが混雑する場合
‐高速で通信できる機器から、低速で通信する機器にデータが大量に流れ込むと、
　低速で通信する機器が取りこぼしてしまう場合

上記いずれかが起こると、目的の場所までデータが届くのが遅れたり、
または経路の途中でデータがロストしてしまうことになりQoSが阻害されます。

前者は、車の渋滞と同じですね。データを宅配便に置き換えるとわかりやすいです。
宅配業者が宅配便を運ぶ途中に、渋滞に出会ってしまったら届けるのが遅くなります。

後者は、大通りからめちゃくちゃ細い一本道に入らなきゃいけない宅配ルート
だとするとわかりやすいかもしれません。
沢山の荷物を注文して、複数人の宅配業者を雇って運んでもらったとしても、
大通りは大丈夫ですが、人ひとりずつしか通れない道が途中にあると
結局一人の業者が、のそのそとモノを運ぶことになります。
一本道に入る手前で渋滞が起きて、しかも、後ろから大量のモノがどんどん届く状態です。


■QoSは、具体的に何をするか
QoS制御で行う項目は下記の二つです
‐データ毎に優先度をつけてデータの送信順序を変更する（優先制御）
‐通信ルートを分散させる（帯域制御）

上記概念図とQoSの実施方法について
いくつか調査してみましたが、下記サイトがわかりやすかったです。

https://network.yamaha.com/knowledge/qos


■優先度の分類に使う情報
上記サイトでは、下記情報を使用して優先度を変えるとあります。

- 送信元／宛先 MACアドレス
- 送信元／宛先 IPアドレス
- IPプロトコルタイプ
- Ethernetフレームタイプ番号
- VLAN タグヘッダの CoS値
- IPヘッダの Precedence値
- IPヘッダの DSCP値
- VLAN ID

が、代表的なモノとしてCoS値とPrecedence値とDSCP値でのクラス分けについて紹介します。

■CoS値
VLANタグのCoSフィールド3bitで、そのパケットの品質レベルをネットワーク機器に伝授する。
VLANを使わないEthernetにはCoSがないため、L2でQoSをしたいならVLANタグをつけなければいけない。

■MACアドレス
ネットワーク上に存在する機器それぞれに、製造段階で割り当てられる装置固有の番号です。
この番号を基に機器を識別し、通信相手を決定します。

■IPアドレス
上記MACアドレスは、製造段階で固定の番号です。
ただ、家や会社、街中でインターネットを利用したいとなると
MACアドレスが存在する場所が、時や場合によって変わることになります。
つまりデータを送り届ける住所がコロコロと変わることになります。

いまあなたの端末がどこにいてどこに送り届けるかを逐一把握していると
通信業者にとって、それは現実的ではないので
もう一つの宛先指定の概念としてIPアドレスがあります。

インターネットにつながる端末はすべてIPアドレスが割り当てられています。
モノを宅配便で送り届けるときに住所がいるように、
データを送り届けるためにIPアドレスで宛先や送信元を表現しています。

■IPアドレスの確認方法
自身のPCのIPアドレスの確認方法は下記のサイトにアクセスすると確認できます。

・確認くん
https://www.ugtop.com/spill.shtml

クラウド活用などで、セキュリティ設定（接続できるIPアドレスを制限する場合など）が必要な場合など
相手IPアドレスを確認する時に使ったりします。

他サイトなどでは、下記の方法で自分のIPアドレスを確認する方法が紹介されていたりします。

---
Windowsキー + R
⇒　『ファイル名を指定して実行』の入力欄に "cmd"と入力し、Enter
⇒　ポップアップした黒い画面(MS-DOSプロンプト) に "ipconfig" と入力し、Enter
---

これで表示されるIPアドレスと確認くんで調べたIPが異なると思います。
その理由は、確認くんで調べたIPが外部から見たIPアドレスで
ipconfigで調べたIPはルータなどが間に入ってアドレス変換をしています。


■LANとWANの違い
LANとは、「Local Area Network（ローカルエリアネットワーク）」の頭文字で、
閉じられたネットワークのことを示します。
家庭内LAN、社内LANなどと呼ばれます。

WANとは、「Wide Area Network（ワイドエリアネットワーク）」の頭文字で、
LANとLANをつないだネットワークです。
インターネットを通して様々なLANとLANがつながって情報をとってこれるのは
このWANによって可能になっています。


■参考
ちょっと専門知識おおめ
https://milestone-of-se.nesuke.com/nw-basic/grasp-nw/qos-summary/
----


## [Mainページに戻る](https://kissshot-skup.github.io/webpage)

